<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jornada de Puertas Abiertas 2025 - Instituto Serviliano D√≠az</title>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: #ffffff;
        color: #003366;
        text-align: center;
        margin: 0;
        padding: 0;
      }
      header {
        background-color: transparent;
        padding: 20px;
        display: flex;
        justify-content: space-around;
        align-items: center;
        gap: 16px;
      }
      header img {
        height: clamp(60px, 12vw, 110px); /* responsive: se ajusta al tama√±o de pantalla */
        width: auto;
      }
      /* T√≠tulo inline solo visible en modo juego */
      .header-inline-title {
        display: none;
        margin: 0 12px;
        font-size: 20px;
        color: #003366;
        text-align: center;
        line-height: 1.2;
        flex: 1;
      }
      .game-mode header img {
        height: 70px; /* logos m√°s peque√±os en juego */
      }
      .game-mode .header-inline-title {
        display: block;
      }
      .game-mode .page-title {
        display: none; /* ocultar t√≠tulo grande cuando se juega */
      }
      /* En m√≥viles, ocultar tambi√©n el t√≠tulo inline cuando est√° en modo juego */
      @media (max-width: 640px) {
        .game-mode .header-inline-title {
          display: none;
        }
      }
      h1 {
        margin-top: 20px;
        font-size: 28px;
        color: #003366;
      }
      .container {
        margin-top: 40px;
      }
      /* Tarjetas del men√∫ principal */
      .menu-cards {
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* dos por fila */
        gap: 24px;
        align-items: start;
        padding: 0 16px;
        max-width: 1100px;
        margin: 30px auto 0;
      }
      .card-wrapper {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .card {
        position: relative;
        border: none;
        padding: 0;
        border-radius: 16px;
        height: 240px;
        cursor: pointer;
        overflow: hidden;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        background-color: #e8f1f0; /* fallback */
        background-size: cover;
        background-position: center;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        width: 100%;
      }
      .card::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.55),
          rgba(0, 0, 0, 0.15) 50%,
          rgba(0, 0, 0, 0) 80%
        );
        pointer-events: none;
      }
      .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.16);
      }
      .card .card-label {
        position: absolute;
        left: 14px;
        right: 14px;
        bottom: 14px;
        color: #fff;
        font-size: 22px;
        font-weight: 600;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
      }
      .card-description {
        color: #003366;
        font-size: 14px;
        line-height: 1.4;
        text-align: center;
        padding: 0 8px;
      }
      /* Contenedor del juego embebido */
      #game-container {
        margin: 30px auto 0;
        max-width: 1100px;
        padding: 0 16px;
      }
      #game-frame {
        width: 100%;
        height: 70vh;
        border: 1px solid #e0e0e0;
        border-radius: 12px;
        background: #fff;
      }
      .controls {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-top: 16px;
        flex-wrap: wrap;
      }
      .button {
        display: block;
        margin: 15px auto;
        padding: 15px 30px;
        font-size: 18px;
        color: white;
        background-color: #007b8f;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: background 0.3s;
        width: 250px;
      }
      .button:hover {
        background-color: #005f6b;
      }
      .hidden {
        display: none;
      }
      footer {
        margin-top: 50px;
        padding: 15px;
        font-size: 14px;
        color: #555;
      }
      /* Ajustes mobile: optimizar el men√∫ para pantalla completa */
      @media (max-width: 640px) {
        .container { margin-top: 20px; }
        #main-menu { padding: 0 8px 12px; }
        .menu-cards {
          grid-template-columns: 1fr;
          gap: 20px;
          margin: 10px auto 0;
          max-width: 540px;
        }
        .card {
          height: 180px; /* iconos un poco m√°s chicos en mobile */
          border-radius: 14px;
        }
        .card .card-label { font-size: 20px; }
        .card-description { font-size: 13px; }
      }
    </style>
  </head>
  <body>
    <header>
      <!-- Sub√≠ tu logo a la carpeta y reemplaz√° el nombre aqu√≠ -->
      <img src="logo.jpg" alt="Logo Instituto Serviliano D√≠az" />
      <div class="header-inline-title">
        Jornada de Puertas Abiertas 2025 ‚Äî Instituto Serviliano D√≠az
      </div>
      <img src="logo 2.png" alt="Logo 2" />
    </header>

    <h1 class="page-title">
      Jornada de Puertas Abiertas 2025<br />Instituto Serviliano D√≠az
    </h1>

    <div id="main-menu" class="container">
      <div class="menu-cards">
        <div class="card-wrapper">
          <button
            class="card"
            style="background-image: url('quiz.png')"
            onclick="showSection('quiz')"
          >
            <div class="card-label">Preguntas y Respuestas (Quizz)</div>
          </button>
          <div class="card-description">üí° ¬°Demostr√° lo que sab√©s! ¬øPod√©s superar a tus compa√±eros y responder todo a la velocidad de la luz?</div>
        </div>
        <div class="card-wrapper">
          <button
            class="card"
            style="background-image: url('topos.png')"
            onclick="showSection('topos')"
          >
            <div class="card-label">Aplasta Topos</div>
          </button>
          <div class="card-description">‚ö° ¬°Reflejos y c√°lculo mental! Resolv√© las multiplicaciones y aplast√° los topos correctos. ¬øQu√© tan r√°pido sos?</div>
        </div>
        <div class="card-wrapper">
          <button
            class="card"
            style="background-image: url('sopa.png')"
            onclick="showSection('sopa')"
          >
            <div class="card-label">Sopa de Letras Matem√°tico</div>
          </button>
          <div class="card-description">üîç ¬°Desaf√≠o reloj! ¬øCu√°ntos t√©rminos matem√°ticos pod√©s encontrar antes de que se acabe el tiempo?</div>
        </div>
        <div class="card-wrapper">
          <button
            class="card"
            style="background-image: url('ahorcado.png')"
            onclick="openGame('https://wordwall.net/play/101938/985/127')"
          >
            <div class="card-label">Ahorcado Matem√°tico</div>
          </button>
          <div class="card-description">üéØ ¬°Adivin√° las palabras secretas! Descubr√≠ los t√©rminos matem√°ticos letra por letra.</div>
        </div>
        <div class="card-wrapper">
          <button
            class="card"
            style="background-image: url('anagrama.png')"
            onclick="showSection('anagrama')"
          >
            <div class="card-label">Anagramas Matem√°ticos</div>
          </button>
          <div class="card-description">üî§ ¬°Desenred√° las letras! Orden√° las letras y form√° t√©rminos matem√°ticos. ¬øTe anim√°s?</div>
        </div>
      </div>
    </div>

    <!-- Secci√≥n Quiz -->
    <div class="container hidden" id="quiz">
      <h2>Seleccion√° tu a√±o</h2>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/96488/111/849')"
      >
        1¬∞ A√±o
      </button>
      <button class="button" onclick="openGame('https://wordwall.net/play/96510/063/693')">2¬∞ A√±o</button>
      <button class="button" onclick="openGame('https://wordwall.net/play/96510/119/545')">3¬∞ A√±o</button>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/96509/660/649')"
      >
        4¬∞ A√±o
      </button>
      <button class="button" onclick="openGame('https://wordwall.net/play/96314/205/564')">5¬∞ A√±o</button>
      <button class="button" onclick="openGame('https://wordwall.net/play/96506/715/292')">6¬∞ A√±o</button> 
      <button class="button" onclick="goBack()">‚Üê Volver</button>
    </div>

    <!-- Secci√≥n Aplasta Topos -->
    <div class="container hidden" id="topos">
      <h2>Seleccion√° el nivel</h2>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/101911/981/984')"
      >
        Nivel B√°sico
      </button>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/96510/695/524 ')"
      >
        Nivel Intermedio / Avanzado
      </button>
      <button class="button" onclick="goBack()">‚Üê Volver</button>
    </div>

    <!-- Secci√≥n Sopa de Letras -->
    <div class="container hidden" id="sopa">
      <h2>Seleccion√° la dificultad</h2>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/101939/293/906')"
      >
        F√°cil
      </button>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/101938/304/135')"
      >
        Medio
      </button>
      <button class="button" onclick="goBack()">‚Üê Volver</button>
    </div>

    <!-- Secci√≥n Anagramas -->
    <div class="container hidden" id="anagrama">
      <h2>Seleccion√° la dificultad</h2>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/101939/997/607')"
      >
        B√°sico
      </button>
      <button
        class="button"
        onclick="openGame('https://wordwall.net/play/101939/767/857')"
      >
        Medio
      </button>
      <button class="button" onclick="goBack()">‚Üê Volver</button>
    </div>

    <!-- Contenedor del juego embebido -->
    <div class="hidden" id="game-container">
      <iframe
        id="game-frame"
        src="about:blank"
        title="Juego"
        allowfullscreen
        referrerpolicy="no-referrer"
      ></iframe>
      <div class="controls">
        <button class="button" onclick="enterFullscreen()">
          Pantalla completa
        </button>
        <button class="button" onclick="closeGame()">‚Üê Volver al men√∫</button>
      </div>
      <p style="font-size: 12px; color: #666; margin-top: 8px">
        Tip: sal√≠ de pantalla completa con la tecla Esc.
      </p>
    </div>

    <footer>
      ¬© 2025 - Instituto Serviliano D√≠az | Jornada de Puertas Abiertas |
      Matem√°tica Divertida
    </footer>

    <script>
      // Gesti√≥n del historial del navegador
      function navigate(view) {
        const state = { view: view };
        history.pushState(state, "", `#${view}`);
        showView(view);
      }

      function showView(view) {
        // Ocultar todas las vistas
        document.getElementById("main-menu").classList.add("hidden");
        document.getElementById("quiz").classList.add("hidden");
        document.getElementById("topos").classList.add("hidden");
        document.getElementById("sopa").classList.add("hidden");
        document.getElementById("anagrama").classList.add("hidden");
        document.getElementById("game-container").classList.add("hidden");
        document.body.classList.remove("game-mode");

        // Mostrar la vista solicitada
        if (view === "menu" || view === "") {
          document.getElementById("main-menu").classList.remove("hidden");
        } else if (view === "quiz") {
          document.getElementById("quiz").classList.remove("hidden");
        } else if (view === "topos") {
          document.getElementById("topos").classList.remove("hidden");
        } else if (view === "sopa") {
          document.getElementById("sopa").classList.remove("hidden");
        } else if (view === "anagrama") {
          document.getElementById("anagrama").classList.remove("hidden");
        } else if (view.startsWith("game:")) {
          const url = view.substring(5);
          const frame = document.getElementById("game-frame");
          frame.src = url;
          document.getElementById("game-container").classList.remove("hidden");
          document.body.classList.add("game-mode");
        }
      }

      function showSection(sectionId) {
        navigate(sectionId);
      }

      function goBack() {
        history.back();
      }

      function openGame(url) {
        // Navega al juego y solicita pantalla completa de inmediato (gesto de usuario)
        navigate(`game:${url}`);
        try {
          enterFullscreen();
        } catch (e) {
          /* ignorar errores de fullscreen */
        }
      }

      function closeGame() {
        const frame = document.getElementById("game-frame");
        frame.src = "about:blank";
        navigate("menu");
      }

      function enterFullscreen() {
        const container = document.getElementById("game-frame");
        if (container.requestFullscreen) {
          container.requestFullscreen();
        } else if (container.webkitRequestFullscreen) {
          container.webkitRequestFullscreen();
        } else if (container.msRequestFullscreen) {
          container.msRequestFullscreen();
        }
      }

      // Detectar cuando el usuario usa el bot√≥n atr√°s/adelante del navegador
      window.addEventListener("popstate", function (event) {
        if (event.state && event.state.view) {
          showView(event.state.view);
        } else {
          showView("menu");
        }
      });

      // Inicializar la vista seg√∫n el hash o estado inicial
      window.addEventListener("DOMContentLoaded", function () {
        const hash = window.location.hash.substring(1);
        if (hash) {
          showView(hash);
          history.replaceState({ view: hash }, "", window.location.href);
        } else {
          history.replaceState({ view: "menu" }, "", "#menu");
        }
      });
    </script>
  </body>
</html>
